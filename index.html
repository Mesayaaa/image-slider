<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div>
        <h2 style="text-align: center;">MAS PUNYA LIST KITA MAU PERGI KEMANANYA KO WKWKWKKW</h2>
    </div>
    <div class="carousel">
        <div class="list">
            <div class="item">
                <img src="images/cth5.jpg">
                <div class="introduce">
                    <div class="title">Momen Seru Bareng Kamu</div>
                    <div class="des">Gila, aku bener-bener menikmati setiap detik bareng kamu! Setiap momen itu priceless, bro!</div>
                </div>
            </div>

            <div class="item">
                <img src="images/cth0.jpg" style="width: auto; height: 80%">
                <div class="introduce">
                    <div class="title">Kebersamaan Kita</div>
                    <div class="des">Nggak ada yang lebih seru dari ini, ya kan? Momen-momen ini bikin aku pengen terus bareng kamu!</div>
                </div>
                <div class="detail">
                    <div class="title">Detail Momen</div>
                    <div class="des">Setiap tawa dan cerita yang kita bagi, bikin hidupku lebih berwarna!</div>
                </div>
            </div>

            <div class="item">
                <img src="images/cth1.jpg">
                <div class="introduce">
                    <div class="title">Petualangan Kita</div>
                    <div class="des">Setiap perjalanan bareng kamu itu bikin aku happy banget!</div>
                </div>
            </div>

            <div class="item">
                <img src="images/cth2.jpg">
                <div class="introduce">
                    <div class="title">Moment Spesial</div>
                    <div class="des">Nggak sabar nunggu momen seru berikutnya bareng kamu!</div>
                </div>
            </div>

            <div class="item">
                <img src="images/cth3.jpg">
                <div class="introduce">
                    <div class="title">Kebahagiaan Kita</div>
                    <div class="des">Setiap senyumanmu bikin hariku lebih cerah!</div>
                </div>
            </div>

            <div class="item">
                <img src="images/cth4.jpg">
                <div class="introduce">
                    <div class="title">Sahabat Sejati</div>
                    <div class="des">Bersama kamu, semua jadi lebih seru dan berkesan!</div>
                </div>
            </div>
        </div>
        <div class="arrows">
            <button id="prev"><</button>
            <button id="next">></button>
        </div>
        
        <div class="button-container">
            <div class="arrow">&#8595;</div>
            <button id="playAudio">MAS NYANYI BUAT KM WKWKWKW</button>
        </div>
    </div>

    <audio id="backgroundAudio" loop>
        <source src="blue_yungkai_for_her.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script src="app.js"></script>
    <script>
        const audioPlayer = document.getElementById('backgroundAudio');
        const playButton = document.getElementById('playAudio');
        
        // Tambahkan array untuk melacak particle yang aktif
        const activeParticles = [];
        const MAX_PARTICLES = 10; // Batasi jumlah maksimal particle
        
        function createLoveParticle(x, y) {
            const particle = document.createElement('div');
            particle.className = 'love-particle';
            particle.innerHTML = 'â™¥';
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            
            const randomX = (Math.random() - 0.5) * 200;
            const randomRotate = (Math.random() - 0.5) * 360;
            particle.style.setProperty('--x', randomX + 'px');
            particle.style.setProperty('--r', randomRotate + 'deg');
            
            document.body.appendChild(particle);
            
            // Tambahkan particle ke array tracking
            activeParticles.push(particle);
            
            // Hapus particle setelah animasi selesai
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
                const index = activeParticles.indexOf(particle);
                if (index > -1) {
                    activeParticles.splice(index, 1);
                }
            }, 4000); // Sesuaikan dengan durasi animasi di CSS
            
            // Jika jumlah particle melebihi batas, hapus yang paling lama
            if (activeParticles.length > MAX_PARTICLES) {
                const oldestParticle = activeParticles.shift();
                if (oldestParticle.parentNode) {
                    oldestParticle.parentNode.removeChild(oldestParticle);
                }
            }
        }
        
        let isCreatingParticles = false;
        let particleInterval;
        
        function startParticleCreation(e) {
            if (isCreatingParticles) return;
            isCreatingParticles = true;
            
            const buttonRect = playButton.getBoundingClientRect();
            const centerX = buttonRect.left + buttonRect.width / 2;
            const centerY = buttonRect.top;
            
            // Fungsi untuk membuat satu batch particle
            function createParticleBatch() {
                for (let i = 0; i < 5; i++) { // Kurangi jumlah particle per batch
                    createLoveParticle(
                        centerX + (Math.random() - 0.5) * 200,
                        centerY + (Math.random() - 0.5) * 100
                    );
                }
            }
            
            // Buat batch pertama
            createParticleBatch();
            
            // Set interval untuk batch berikutnya
            particleInterval = setInterval(createParticleBatch, 2000); // Interval lebih lama
        }
        
        function stopParticleCreation() {
            isCreatingParticles = false;
            clearInterval(particleInterval);
        }
        
        playButton.addEventListener('click', function(e) {
            if (audioPlayer.paused) {
                audioPlayer.play();
                playButton.textContent = 'kalo mau pause, klik lagi aja yaa sayang';
                startParticleCreation(e);
            } else {
                audioPlayer.pause();
                playButton.textContent = 'MAS NYANYI BUAT KM WKWKWKW';
                stopParticleCreation();
            }
        });
    </script>
</body>
</html>